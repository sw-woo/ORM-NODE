<!DOCTYPE html> <!--html type을 의미, html5로 작성하는 문서이다.-->
<html>
    <head>  <!--검색 엔진에게 정보 제공하는 영역 -->
        <title>ECMAScript 2015 let/const 알아보기</title>
    </head>

    <body>  <!-- 사용자에게 보여지는 영역-->
        <h1>let/const 학습하기</h1>


    <script>

        // 전통적인 자바스크립트 변수선언방식 var ...
        // var userName; 까지만 만들면 userName이라는 공간만 만들어짐
        var userName = "이보람";
        var age = 40;
        var price = 5000;
        // var isMale = false;  // 0 or 1, Boolean형
        var isMale = true;  // 0 or 1, Boolean형
        
        // 기본배송비
        // 기본배송비는 한번 할당/설정해두면 변경되면 안된다.
        var baseDelyFee = 3000;

        console.log("기본배송비1:", baseDelyFee);

        // 기본배송비 변경
        baseDelyFee = 13000;

        // 전통적인 var 변수선언 방식은 상수(한번 할당하면 변경 불가 변수)개념을 지원하지 않는다.
        console.log("기본배송비2:", baseDelyFee);

        // 2015년도 자바스크립트 신규문법으로 추가된 상수를 사용해보자.
        const newBaseDelyFee = 5000;
        console.log("상수로 표현하는 기본 배송비:", newBaseDelyFee);

        // 상수로 선언된 배송비 값을 변경해보자.
        // 상수값을 변경하려해서 에러 발생!!!
        // newBaseDelyFee = 10000;

        // 총 결제금액 초기값 할당
        // let으로 선언된 변수는 초기할당이후 변수값 변경이 가능하다 = var
        let totalPayPrice = 0;

        console.log("총결제 금액:", totalPayPrice, "/ 상수기본 배송비:", newBaseDelyFee);

        // let으로 선언된 변수값을 변경해보자
        totalPayPrice= 1;
        console.log("총결제 금액:",totalPayPrice);

        // var 변수선언방식은 블록스코프 개념이 없어서
        // 특정 블록안에서 선언된 변수값을 블록범위 밖에서 언제든지 변경이 가능했다.
        // 이런 var 변수선언방식은 다양한 문제를 초래했다.

        // 총 결제금액에 기본배송비를 추가함
        // totalPayPrice = totalPayPrice + baseDelyFee;
        totalPayPrice += baseDelyFee;

        // 총 결제금액에 기본 상품가격을 추가함
        totalPayPrice += price;

        console.log("총 결제 금액 :",totalPayPrice)


        // 가정문을 통한 블록스코프 정의하기
        if(isMale == true) {
            // 상기 조건에 해당하는 현재 범위를 블록스코프 라고 한다.
            // 프로그래밍적으로 특정범위 내(블록스코프)에서 선언된 변수나 상수는
            // 해당 범위내에서만 사용이 되어야하고 변경이 되어야한다.
            var msg = "남성입니다.";
            console.log("현재사용자 성별 가정문 안에서의 값:",msg);

        }

        msg = "여성입니다."
        console.log("현재사용자 성별 가정문 밖에서의 값:", msg);


        // var는 위와 같이 블록스코프 개념준수가 안되지만
        // 이를 개선하기 위해 let, const는 블록스코프 개념을 준수하고 위배시 아예 에러를 발생시킴

        const region = "제주도";

        if(region == "제주도"){
            const addDelyFee = 2000;
            let addMsg = "도서 배송비가 추가되었습니다.";
            console.log(addMsg);
            totalPayPrice += addDelyFee;
            console.log("if 블록스코프내에서 선언된 변수/상수는 그안에서 사용이 가능함:",addDelyFee,totalPayPrice);
        }
        // 특정 블록스코프 내에서 선언된 let, const 값은 범위밖에서 사용시 에러가 발생. 사용불가!
        // 블록스코프 내에서 선언된 let, const 값은 그 안에서만 사용 및 변경이 가능하다.
        // console.log("if구문내에서 선언된 메시지변수:",addMsg);
        // console.log("if구문내에서 선언된 도서배송비:",addDelyFee);
    </script>
        
    </body>
</html>